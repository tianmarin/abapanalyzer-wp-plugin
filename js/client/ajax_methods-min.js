jQuery(document).ready(function($){function o(o){window.console.log("Comenzando el refresh");var n={action:"abap_ajax_get_analysis_sdfmon_files",analysis:o};$.post(ajaxurl,n,function(o){$("#abap_sdfmon_files").addClass("abap_jq_cfm_loading"),window.console.log("llegó respuesta del refresh"),$("#abap_sdfmon_files").removeClass("abap_jq_cfm_loading"),$("#abap_sdfmon_files").html(o.message)},"json")}$(".abap_edit_analysis").hide(),$.fn.extend({animateCss:function(o,n){"on"===n&&$(this).show();var a="webkitAnimationEnd	mozAnimationEnd	MSAnimationEnd	oanimationend	animationend";this.addClass("animated	"+o).one(a,function(){"off"===n&&$(this).hide(),"on"===n&&$(this).show(),$(this).removeClass("animated	"+o)})}}),$(".abap_intro_button").click(function(o){o.preventDefault();var n=$.confirm({animation:"bottom",closeAnimation:"bottom",closeIcon:!0,closeIconClass:"fa	fa-close",confirmButtonClass:"btn-info",cancelButtonClass:"btn-danger",title:"Crear	nuevo	an&aacute;lisis",content:'<p>Debes	introducir	el	identificador	(SID)	del	sistema	que	vas	a	analizar:</p><input	autofocus	type="text"	id="sid"	placeholder="SID"	class="form-control">',confirmButton:"Crear	análisis",cancelButton:"Cancelar",confirm:function(){var o=n.$content.find("input").val();if(""===o.trim())return!1;n.$body.addClass("abap_jq_cfm_loading");var a={action:"abap_ajax_create_analysis",sid:o};return $.post(ajaxurl,a,function(a){"OK"===a.message&&($("#abap_analysis_id").val(a.id),n.close(),n.$body.removeClass("abap_jq_cfm_loading"),$(".abap_intro_list").animateCss("fadeOutUpBig","off"),$(".abap_edit_analysis").animateCss("fadeInUpBig","on"),$.alert({title:"¡Felicitaciones!",content:"Has	creado	el	an&aacute;lisis	"+o+"	exit&oacute;samente!",confirmButtonClass:"btn-success"}))},"json"),!1}})}),$("#abap_upload_sdfmon_file").submit(function(o){o.preventDefault()}),$("#abap_upload_sdfmon_file	input[type=file]").change(function(t){t.preventDefault();var e=this.files[0],l=e.name,p=e.size,s=e.type,c=$(this).val().replace(/.*(\/|\\)/,"");return""===c.trim()?($.alert("No has seleccionado un archivo."),window.console.log("No	file	selected"),!1):"0"===$("#abap_analysis_id").val()?(window.console.log("No	abap	analysis	ID	found"),$.alert("No hay un an&aacute;lisis relacionado."),!1):(window.console.log(l+"	"+s+"	"+p),window.console.log("Please	Confirm	date"),void $.confirm({animation:"bottom",closeAnimation:"bottom",closeIcon:!0,closeIconClass:"fa	fa-close",confirmButtonClass:"btn-info",cancelButtonClass:"btn-danger",title:"Indica	la	fecha",content:'<p>Desgraciadamente,	los	archivos	de	salida	del	SnapshotMonitoring,	no	indican	la	fecha	a	la	cual	pertenece	el	detalle<p><p>Debes	introducir	la	fecha	que	corresponde	al	archivo	"'+c+'":</p>'+n+a+i,confirmButton:"Cargar	archivo",cancelButton:"Cancelar",confirm:function(){var n=this.$content.find("#year").val(),a=this.$content.find("#month").val(),i=this.$content.find("#day").val();if("0"===n||"0"===a||"0"===i)return window.console.log("Pon	bien la fecha"),!1;var t=new FormData;t.append("action","abap_ajax_upload_sdfmon_file"),t.append("analysis",$("#abap_analysis_id").val()),t.append("year",n),t.append("month",a),t.append("day",i),t.append("sdfmon_file",e),window.console.log("Comienza la	llamada Post"),$(".upload").addClass("abap_jq_cfm_loading"),$.ajax({url:ajaxurl,type:"POST",data:t,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(n,a,i){window.console.log(JSON.stringify(n)),o($("#abap_analysis_id").val()),$(".upload").removeClass("abap_jq_cfm_loading"),"undefined"==typeof n.error?window.console.log("OK"):window.console.log("ERRORS: "+n.error)},error:function(o,n,a){window.console.log("ERRORS: "+o+n+a)}})}}))});var n='<select	id="year"><option	value="0">Año</option><option	value="2010">2010</option><option	value="2011">2011</option><option	value="2012">2012</option><option	value="2013">2013</option><option	value="2014">2014</option><option	value="2015">2015</option><option	value="2016">2016</option><option	value="2017">2017</option><option	value="2018">2018</option><option	value="2019">2019</option><option	value="2020">2020</option></select>',a='<select	id="month"><option	value="0">Mes</option><option	value="1">Enero</option><option	value="2">Febrero</option><option	value="3">Marzo</option><option	value="4">Abril</option><option	value="5">Mayo</option><option	value="6">Junio</option><option	value="7">Julio</option><option	value="8">Agosto</option><option	value="9">Septiembre</option><option	value="10">Octubre</option><option	value="11>Noviembre</option><option	value="12>Diciembre</option></select>',i='<select	id="day"><option	value="0">D&iacute;a</option><option	value="1">01</option><option	value="2">02</option><option	value="3">03</option><option	value="4">04</option><option	value="5">05</option><option	value="6">06</option><option	value="7">07</option><option	value="8">08</option><option	value="9">09</option><option	value="10">10</option><option	value="11">11</option><option	value="12">12</option><option	value="13">13</option><option	value="14">14</option><option	value="15">15</option><option	value="16">16</option><option	value="17">17</option><option	value="18">18</option><option	value="19">19</option><option	value="20">20</option><option	value="21">21</option><option	value="22">22</option><option	value="23">23</option><option	value="24">24</option><option	value="25">25</option><option	value="26">26</option><option	value="27">27</option><option	value="28">28</option><option	value="29">29</option><option	value="30">30</option><option	value="31">31</option></select>';o(0)});